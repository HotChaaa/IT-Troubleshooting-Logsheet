# IT Troubleshooting Logsheet with SLA Tracking

ระบบติดตามและจัดการปัญหาทางเทคนิคสำหรับทีมไอทีซัพพอร์ต พร้อมการติดตาม SLA (Service Level Agreement)

## ฟีเจอร์หลัก

- ✅ **ระบบ Authentication**: เข้าสู่ระบบด้วย username/password
- ✅ **จัดการสิทธิ์ผู้ใช้**: แยกสิทธิ์ User และ Admin
- ✅ **บันทึกเคสใหม่**: สร้างเคสปัญหาใหม่พร้อมระดับความรุนแรง
- ✅ **ติดตามสถานะ**: อัปเดตสถานะเคส (Open, In Progress, Resolved)
- ✅ **คำนวณ SLA อัตโนมัติ**: ระบบคำนวณวันครบกำหนดตามระดับความรุนแรง
- ✅ **แสดงสถานะ SLA**: แสดงสถานะ SLA แบบเรียลไทม์ (Met SLA, Breached SLA, OVERDUE, In Progress)
- ✅ **แดชบอร์ดสถิติ**: แสดงสถิติเคสทั้งหมด, เคสเปิด, เกินกำหนด, และแก้ไขแล้ว
- ✅ **ดูรายละเอียด**: ดูรายละเอียดเคสแบบเต็ม
- ✅ **แก้ไขเคส**: อัปเดตสถานะและวิธีแก้ปัญหา
- ✅ **Admin Panel**: จัดการผู้ใช้และตั้งค่าระบบ (สำหรับ Admin เท่านั้น)

## ระดับความรุนแรงและ SLA

| ระดับความรุนแรง | ระยะเวลาตาม SLA |
|----------------|-----------------|
| Critical       | 1 วัน           |
| Major          | 3 วัน           |
| Minor          | 7 วัน           |

## การติดตั้งและใช้งาน

### ข้อกำหนดระบบ
- Node.js (เวอร์ชัน 14 หรือใหม่กว่า)
- npm หรือ yarn

### ขั้นตอนการติดตั้ง

1. **โคลนโปรเจกต์**
   ```bash
   git clone <repository-url>
   cd it-troubleshooting-logsheet
   ```

2. **ติดตั้ง dependencies**
   ```bash
   npm install
   ```

3. **เริ่มต้นเซิร์ฟเวอร์**
   ```bash
   npm start
   ```
   
   หรือสำหรับการพัฒนา (auto-reload):
   ```bash
   npm run dev
   ```

4. **เปิดเบราว์เซอร์**
   ไปที่ `http://localhost:3000`

## บัญชีทดสอบ

ระบบมีบัญชีทดสอบที่สร้างไว้แล้ว:

### Admin Account
- **Username:** `admin`
- **Password:** `admin123`
- **สิทธิ์:** ผู้ดูแลระบบ (สามารถจัดการผู้ใช้และเข้าถึง Admin Panel)

### User Accounts
- **Username:** `user1` | **Password:** `user123` | **ชื่อ:** สมชาย ใจดี
- **Username:** `user2` | **Password:** `user123` | **ชื่อ:** สมหญิง รักงาน
- **สิทธิ์:** ผู้ใช้ทั่วไป (สามารถสร้างและจัดการเคสได้)

## โครงสร้างโปรเจกต์

```
it-troubleshooting-logsheet/
├── server.js              # Express.js server
├── package.json           # Dependencies และ scripts
├── troubleshooting.db     # SQLite database (สร้างอัตโนมัติ)
├── public/                # Frontend files
│   ├── index.html         # หน้าเว็บหลัก
│   ├── styles.css         # CSS styles
│   └── script.js          # JavaScript functions
└── README.md              # เอกสารนี้
```

## API Endpoints

### GET /api/cases
ดึงข้อมูลเคสทั้งหมด

### POST /api/cases
สร้างเคสใหม่
```json
{
  "case_title": "ปริ้นเตอร์ไม่ออก",
  "problem_description": "รายละเอียดปัญหา",
  "reported_by": "ชื่อผู้แจ้ง",
  "severity": "Critical"
}
```

### GET /api/cases/:id
ดึงข้อมูลเคสเดียว

### PUT /api/cases/:id
อัปเดตเคส
```json
{
  "status": "Resolved",
  "solution_details": "วิธีแก้ปัญหา"
}
```

## โครงสร้างฐานข้อมูล

ตาราง: `troubleshooting_logs`

| ฟิลด์ | ประเภท | คำอธิบาย |
|-------|--------|----------|
| id | INTEGER | รหัสอ้างอิง (Primary Key) |
| case_title | TEXT | ชื่อหัวข้อของปัญหา |
| problem_description | TEXT | รายละเอียดของปัญหา |
| solution_details | TEXT | วิธีการแก้ไขปัญหา |
| reported_by | TEXT | ชื่อผู้แจ้งปัญหา |
| status | TEXT | สถานะ (Open, In Progress, Resolved) |
| severity | TEXT | ระดับความรุนแรง (Critical, Major, Minor) |
| created_at | DATETIME | วันและเวลาที่สร้างเคส |
| updated_at | DATETIME | วันและเวลาที่อัปเดตล่าสุด |
| due_date | DATETIME | วันครบกำหนดตาม SLA |
| resolved_at | DATETIME | วันและเวลาที่ปิดเคสจริง |

## การใช้งาน

### 1. เข้าสู่ระบบ
- เปิดเบราว์เซอร์ไปที่ `http://localhost:3000`
- ระบบจะเปลี่ยนไปหน้า Login อัตโนมัติ
- ใช้บัญชีทดสอบที่ให้ไว้ หรือคลิก "ใช้บัญชีนี้" เพื่อกรอกข้อมูลอัตโนมัติ

### 2. สร้างเคสใหม่
- คลิกปุ่ม "สร้างเคสใหม่"
- กรอกข้อมูลที่จำเป็น: ชื่องาน, รายละเอียดปัญหา
- **หมายเหตุ**: 
  - ชื่อผู้แจ้งจะถูกกำหนดอัตโนมัติเป็นชื่อของ User ที่ล็อกอินอยู่
  - ระดับความรุนแรงจะถูกกำหนดโดยผู้ดูแลระบบหลังจากส่งเคสแล้ว

### 3. ดูรายการเคส
- หน้าแรกจะแสดงรายการเคสทั้งหมด
- เรียงลำดับจากเคสใหม่สุดไปเก่าสุด
- แสดงสถานะ SLA แบบเรียลไทม์

### 4. แก้ไขเคส
- คลิกปุ่ม "แก้ไข" ในแถวของเคสที่ต้องการ
- อัปเดตสถานะและวิธีแก้ปัญหา
- เมื่อเปลี่ยนสถานะเป็น "Resolved" ระบบจะบันทึกเวลาปิดเคส

### 5. ดูรายละเอียด
- คลิกปุ่ม "ดูรายละเอียด" เพื่อดูข้อมูลครบถ้วนของเคส

### 6. Admin Panel (สำหรับ Admin เท่านั้น)
- คลิกปุ่ม "จัดการระบบ" ที่มุมขวาบน
- **จัดการผู้ใช้**: ดูรายชื่อผู้ใช้, สร้างผู้ใช้ใหม่, ลบผู้ใช้
- **การตั้งค่า**: ดูการตั้งค่าระดับความรุนแรงและ SLA

### 7. กำหนดระดับความรุนแรง (สำหรับ Admin เท่านั้น)
- ในตารางเคสจะมีคอลัมน์ "Admin" สำหรับ Admin
- คลิกปุ่ม "กำหนดระดับความรุนแรง" สำหรับเคสที่ยังไม่กำหนด
- คลิกปุ่ม "เปลี่ยนระดับความรุนแรง" สำหรับเคสที่กำหนดแล้ว
- เลือกระดับความรุนแรง: Critical (1 วัน), Major (3 วัน), Minor (7 วัน)
- ระบบจะคำนวณวันครบกำหนดอัตโนมัติ

## สถานะ SLA

- **Pending Assignment** (สีส้ม): เคสยังไม่ได้รับการกำหนดระดับความรุนแรง
- **Met SLA** (สีเขียว): เคสแก้ไขแล้วและปิดก่อนหรือภายในกำหนด
- **Breached SLA** (สีแดง): เคสแก้ไขแล้วแต่ปิดหลังกำหนด
- **OVERDUE** (สีแดงเข้ม): เคสยังไม่แก้ไขและเกินกำหนดแล้ว
- **In Progress** (สีน้ำเงิน): เคสยังไม่แก้ไขและยังไม่ถึงกำหนด

## การพัฒนาต่อ

### ฟีเจอร์ที่อาจเพิ่มในอนาคต:
- การแนบไฟล์ (File Attachments)
- ระบบแจ้งเตือนผ่านอีเมล (Email Notifications)
- ฟังก์ชันการค้นหาและกรองข้อมูลขั้นสูง
- แดชบอร์ดสรุปผลเชิงสถิติ (Analytics Dashboard)
- การส่งออกข้อมูลเป็น Excel/PDF
- ระบบเปลี่ยนรหัสผ่าน
- การตั้งค่า SLA แบบกำหนดเอง

## การแก้ไขปัญหา

### ปัญหาที่พบบ่อย:

1. **เซิร์ฟเวอร์ไม่เริ่มต้น**
   - ตรวจสอบว่า Node.js ติดตั้งแล้ว
   - รัน `npm install` อีกครั้ง

2. **ฐานข้อมูลไม่สร้าง**
   - ตรวจสอบสิทธิ์การเขียนไฟล์ในโฟลเดอร์โปรเจกต์
   - ลบไฟล์ `troubleshooting.db` และเริ่มต้นใหม่

3. **หน้าเว็บไม่แสดงผล**
   - ตรวจสอบว่าเซิร์ฟเวอร์รันอยู่ที่ port 3000
   - เปิด Developer Tools ในเบราว์เซอร์เพื่อดู error

## License

MIT License

## ผู้พัฒนา

Workshop Facilitator - วันที่ 14 กันยายน 2025
#   I T - T r o u b l e s h o o t i n g - L o g s h e e t  
 